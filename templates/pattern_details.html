{% extends 'base.html' %}

{% block title %}{{ session['username'] }} - Pattern Details{% endblock %}

{% block body %}
    <div id="printed-pattern">
    <form id="date-completed">
        <table>
            
            <tr>
                <td>Number of rounds</td><td id="num-rounds"> {{ pattern.num_rounds }}</td>
            </tr>
            <tr>
                <td>Number of points</td><td id="num-points"> {{ pattern.num_points }}</td>
            </tr>
            <tr>
                <td>Number of branches</td><td id="num-branches"> {{ pattern.num_branches }}</td>
            </tr>
            <tr>
                <td>Date Completed</td>
                <td id="completion-date"> {% if pattern.completion_date != None %}
                                        {{ pattern.completion_date.strftime('%m-%d-%Y') }}
                                            {% else %}
                                        {{ pattern.completion_date }}
                                            {% endif %} 
                </td>
                
            </tr>
            <tr>
                <td><input type="hidden" value="{{ pattern.pattern_id }}" id="patt-id"></td>
            </tr>
            <tr>
                <td>
                    <label for="completion">Enter date when completed:</label><br>
                    <input type="date" id="completion-input" name="completion">
                    <input type="submit">
                </td>
            </tr>
            <tr>
                <td>
                    <button id="delete-pattern" name="delete">Delete this pattern</button>
                </td>
                <td>
                    <button id="upload-photo">Upload photo</button>
                </td>
            </tr>
            <tr>
                <td>
                </td>
                <td>
                    <img id="photo" src="{{ pattern.image_url }}"></img>
                </td>
            </tr>
    
        </table>
    
    
    </form>
    

    <div id="sfrounds">
        <ul>
            <li>    
                <!-- Rnd 1 is the same for ALL patterns -->
                Rnd 1: ch 6, sl st to first chain to form a loop
            </li>
            {% for sfround in sfrounds %}
            <li>
                Rnd {{ sfround.sfround_no }}: {{ sfround.beg_seq }} 
                    [{{ sfround.sequence }}] {{ pattern.num_points}} times.
                    {{ sfround.end_seq }}
            </li> 
            {% endfor %}
        </ul>
    </div>
    
</div>
    
    <p><a href='/users_choice'>Generate another pattern</a></p>
    <p><a href="/user_patterns">View all of your patterns</a></p>
    
{% endblock %}